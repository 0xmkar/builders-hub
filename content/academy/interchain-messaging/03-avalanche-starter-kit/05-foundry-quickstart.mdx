---
title: Contract Development with Foundry
description: Deploy and interact with smart contracts
updated: 2024-05-31
authors: [martineckardt]
icon: BookOpen
---

Now that your environment is set up and funded, let's learn how to use Foundry for contract development and interaction.

## Contract Deployment

Deploy your contracts to either network using `forge create`:

```bash
# Deploy to Fuji C-Chain
forge create --rpc-url fuji-c \
  --private-key $PK \
  src/contracts/YourContract.sol:YourContract \
  --constructor-args $FUJI_C_CHAIN_BLOCKCHAIN_ID_HEX

# Deploy to Dispatch
forge create --rpc-url fuji-dispatch \
  --private-key $PK \
  src/contracts/YourContract.sol:YourContract \
  --constructor-args $FUJI_DISPATCH_BLOCKCHAIN_ID_HEX
```

<Callout type="info">
Save your contract addresses after deployment - you'll need them for future interactions.
</Callout>

## Sending Transactions

Use `cast send` to make state-changing calls:

```bash
# Send message from Fuji C-Chain to Dispatch
cast send --rpc-url fuji-c \
  --private-key $PK \
  $CONTRACT_ADDRESS "sendMessage(string)" "Hello Dispatch!"

# Send message from Dispatch to Fuji C-Chain
cast send --rpc-url fuji-dispatch \
  --private-key $PK \
  $CONTRACT_ADDRESS "sendMessage(string)" "Hello Fuji!"
```

## Reading Contract State

Use `cast call` for read-only operations:

```bash
# Read from Fuji C-Chain
cast call --rpc-url fuji-c \
  $CONTRACT_ADDRESS "getLastMessage()(string)"

# Read from Dispatch
cast call --rpc-url fuji-dispatch \
  $CONTRACT_ADDRESS "getLastMessage()(string)"
```

## Development Tips

1. Always test cross-chain messaging with small transactions first
2. Monitor the ICM relayer logs for message delivery status
3. Use environment variables for blockchain IDs and addresses
4. Keep track of deployed contract addresses
5. The Teleporter Registry is pre-deployed at the same address on both networks

## Learn More

For more detailed information:
- [Foundry Book](https://book.getfoundry.sh/)
- [Avalanche Documentation](https://docs.avax.network/)
- [Teleporter Documentation](https://docs.avax.network/build/cross-chain/teleporter/overview)